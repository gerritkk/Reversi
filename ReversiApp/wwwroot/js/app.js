"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var Game=function(e){console.log("/api/url");var n="/api/url";return{init:function(e){console.log(n),setTimeout((function(){e()}),500)}}}();$(document).ready((function(){console.log("ready!")}));var FeedbackWidget=function(){function e(n){_classCallCheck(this,e),this._elementId=n}return _createClass(e,[{key:"test",value:function(){console.log("test")}},{key:"show",value:function(e,n){if("success"==n){$("#feedback-success").addClass("feedback-success");var t=document.getElementById("feedback-success");$("#feedback-success").text(e),t.style.display="block"}else{$("#feedback-danger").addClass("feedback-danger");t=document.getElementById("feedback-danger");$("#feedback-danger").text(e),t.style.display="block"}var o={message:e,type:n};this.log(o)}},{key:"hide",value:function(){var e=document.getElementById(this._elementId);e.style.animation="fadeOut ease 5s",setTimeout((function(){e.style.display="none"}),5e3)}},{key:"log",value:function(e){if(localStorage.length<=10)if(null!=localStorage.getItem("feedback_widget")){(n=JSON.parse(localStorage.getItem("feedback_widget"))).push(e),localStorage.setItem("feedback_widget",JSON.stringify(n))}else{var n=[e];localStorage.setItem("feedback_widget",JSON.stringify(n))}else alert("Niet meer dan 10 berichten in de localstorage!")}},{key:"removeLog",value:function(e){localStorage.removeItem(e)}},{key:"history",value:function(){for(var e=JSON.parse(localStorage.getItem("feedback_widget")),n="",t=0;t<e.length;t++){var o=e[t];n+="<type ".concat(o.type,"> - ").concat(o.message," \n")}return n}},{key:"elementId",get:function(){return this._elementId}}]),e}();Game.Data=function(){var e={apiKey:"38c54cfa93fde5b1a7a55e4c7f6943e0",mock:[{url:"api/Reversi/Beurt",data:0}]},n={environment:"production",gameState:0},t=function(n){var t=e.mock.filter((function(e){return e.url==n}))[0];return new Promise((function(e,n){e(t)})).catch((function(e){console.log(e.message)}))};return _defineProperty({init:function(e){"production"==e||"development"==e?n.environment=e:new Error("environment moet production of development zijn!"),console.log("private Game.Data function.")},get:function(e){return"production"==n.environment?$.get(e).then((function(e){return e})).catch((function(e){console.log(e.message)})):"development"==n.environment?t(e):null},stateMap:n},"stateMap",n)}(),Game.Model=function(){var e={bord:""},n=function(){console.log("private Game.Model function.");setInterval((function(){t()}),5e3),setInterval((function(){o()}),5e3),setInterval((function(){a()}),5e3)}(),t=function(){i("/api/Reversi/Beurt").then((function(e){var n=e;e=JSON.parse(n);console.log(e);var t=Game.Template.parseTemplate("Board",e);$(".bord").html(t.body[0].original),$("#punten1").html(e.Punten.Wit),$("#punten2").html(e.Punten.Zwart),$(".bord").html(t.body[0].original),$(".bord>.plaats").on("click",(function(e){c($(this).index())}))}),(function(){console.log("error")}))},o=function(){i("/api/Reversi/Spelers").then((function(e){var n=e;e=JSON.parse(n);console.log(e),$("#speler1").html("".concat(e[0].Email," (").concat(r(e[0].HuidigeKleur),")")),$("#speler2").html("".concat(e[1].Email," (").concat(r(e[1].HuidigeKleur),")"))}),(function(){console.log("Kon geen data ophalen")}))},a=function(){i("/api/Reversi/AanDeBeurt").then((function(e){var n=e;e=JSON.parse(n);console.log(e),$("#aanDeBeurt").html("Aan de beurt: ".concat(r(e)))}),(function(){console.log("Kon geen data ophalen")}))};function r(e){return 1==e?"Wit":2==e?"Zwart":"Geen"}function c(e){var n=$(".bord").css("grid-template-columns").split(" ").length,o=Math.floor(e/n),r=e%n;i("/api/Reversi/DoeZet/x=".concat(o,"&y=").concat(r)).then((function(e){1==JSON.parse(e)?console.log("Geldige zet."):console.log("Geen geldige zet."),t(),a()}),(function(){console.log("Fout bij het doen van een zet.")}))}var i=function(e){return $.get(e).then((function(e){return e})).catch((function(e){console.log(e.message)}))};return{init:n,getWeather:function(e){return Game.Data.get(e).then((function(e){if(null!=e.main.temp)return e})).catch((function(e){console.log(e.message)}))},getGameState:function(){var n=Game.Data.get("/api/Reversi/Beurt");return 0!=n&&1!=n&&2!=n?new Error("Waarde is ongelijk aan 0, 1 of 2!"):(e.bord=n,n)},refreshBord:t,getSpelers:o,getAanDeBeurt:a}}(),Game.Reversi=function(){console.log("hallo, vanuit module Reversi");var e="test",n=function(e,n,t){var o=document.querySelector(".bord > div:nth-child(".concat(8*n+e+1,") > div"));o.className="piece ".concat(t),o.parentNode.replaceChild(o.cloneNode(!0),o)};return _defineProperty({init:function(){console.log(e)},showFiche:n},"showFiche",n)}(),Game.Template=function(){var e=function(e){return spa_templates.templates.partials.game[e]};return{getTemplate:e,parseTemplate:function(n,t){return Handlebars.parse(e(n)(t))}}}();